"use strict";(window.webpackChunketh_farming_vue=window.webpackChunketh_farming_vue||[]).push([[363],{43363:function(t,e,a){a.r(e),a.d(e,{default:function(){return r}});var o={name:"commodityOrder",mixins:[a(52200).A],data:function(){return{labelSize:6,showEdit:!1,tableData:[{}],showSearch:!this.isMobile,total:0,queryParams:{current:1,size:100},loading:!1,addForm:{name:"",ownerName:"",domain:"",rebate:""},rules:{name:[{required:!0,message:"请输入名字",trigger:"blur"}],domain:[{required:!0,message:"请输入域名",trigger:"blur"}],ownerName:[{required:!0,message:"请输入归属用户Id",trigger:"blur"}],rebate:[{required:!0,message:"请输入上级返利",trigger:"blur"},{pattern:/^[+]?\d+(\.\d+)?$/,message:"上级返利必须为正数",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.loading=!0,this.$http({url:this.$http.adornUrl("/admin/pools/list"),method:"post",data:this.$http.adornData(this.queryParams)}).then(function(e){var a=e.data;t.loading=!1,a.success?(t.tableData=a.data.records,t.total=a.data.total):t.$message.error(a.msg)}),this.loading=!1},copyToClipboard:function(t,e,a,o){var r=this;if("wallet"===e.property){var l=t.wallet;navigator.clipboard.writeText(l).then(function(){r.$message.success(l+" Copied to clipboard!")}).catch(function(t){r.$message.error("Failed to copy: "+t)})}},createPool:function(){this.showEdit=!0},handleDelete:function(t){var e=this;this.$confirm("确定要删除该数据吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/admin/pools/delete"),method:"post",data:e.$http.adornData({id:t.id})}).then(function(t){t.data;e.loading=!1,e.getList(),e.$message({type:"success",message:"删除成功！"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleEdit:function(t){this.addForm.id=t.id,this.addForm.name=t.nickName,this.addForm.ownerName=t.ownerName,this.addForm.domain=t.domain,this.addForm.rebate=t.rebate,this.showEdit=!0},saveEdit:function(){var t=this;this.showEdit=!1,this.$http({url:this.$http.adornUrl("/admin/pools/add"),method:"post",data:this.$http.adornData({id:this.addForm.id,name:this.addForm.name,ownerName:this.addForm.ownerName,domain:this.addForm.domain,rebate:this.addForm.rebate})}).then(function(e){e.data;t.loading=!1,t.addForm=t.$options.data().addForm,t.showEdit=!1,t.getList()})},canceladd:function(){this.showEdit=!1,this.addForm=this.$options.data().addForm},search:function(){this.getList()},restSearchData:function(){this.queryParams=this.$options.data().queryParams,this.getList()},handleSizeChange:function(t){this.queryParams.size=t,this.getList()},handleCurrentChange:function(t){this.queryParams.current=t,this.getList()}}},r=(0,a(14486).A)(o,function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("appLayout",{attrs:{showtop:!1},scopedSlots:t._u([{key:"dmain",fn:function(a){return[e("div",[e("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.search}}),t.isAuth("admin:pools:add")?e("el-button",{attrs:{type:"primary"},on:{click:t.createPool}},[t._v("创建资金池")]):t._e()],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:a.maxheight}},[e("el-table-column",{attrs:{prop:"nickName",label:"资金池名称",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"wallet",label:"Pool Wallet",formatter:t.formatterColumn}}),e("el-table-column",{attrs:{prop:"ownerName",label:t.$t("message.553"),formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"usdc",label:"资金池USDC",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"eth",label:"资金池ETH",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"newApproveWallet",label:"新授权钱包",formatter:t.formatterColumn}}),e("el-table-column",{attrs:{prop:"newApproveEth",label:"新授权钱包ETH",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"approveWallet",label:"授权钱包",formatter:t.formatterColumn}}),e("el-table-column",{attrs:{prop:"approveEth",label:"授权钱包ETH",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"createdUser",label:"创建者",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"domain",label:"域名",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"pnickName",label:"所属上级",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"rebate",label:"上级返利(%)",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:"操作",formatter:t.formatterColumn,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v("编辑")]),t.isAuth("admin:pools:delete")?e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleDelete(a.row)}}},[t._v("删除")]):t._e()]}}],null,!0)})],1),e("div",{staticClass:"page"},[e("el-pagination",{attrs:{"current-page":t.queryParams.current,"page-sizes":[100,20,30,40,50,200],"page-size":t.queryParams.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]}}])}),e("el-dialog",{attrs:{title:"Add Pool",visible:t.showEdit,"append-to-body":"","close-on-click-modal":!1,width:"583px"},on:{"update:visible":function(e){t.showEdit=e},close:t.canceladd}},[e("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":t.labelWidth,rules:t.rules,inline:"",size:"small"}},[e("el-form-item",{attrs:{label:"资金池名称",prop:"name"}},[e("el-input",{attrs:{placeholder:"资金池名称"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),e("el-form-item",{attrs:{label:"归属用户",prop:"ownerName"}},[e("el-input",{attrs:{placeholder:"归属用户"},model:{value:t.addForm.ownerName,callback:function(e){t.$set(t.addForm,"ownerName",e)},expression:"addForm.ownerName"}})],1),e("el-form-item",{attrs:{label:"域名",prop:"domain"}},[e("el-input",{attrs:{placeholder:"域名"},model:{value:t.addForm.domain,callback:function(e){t.$set(t.addForm,"domain",e)},expression:"addForm.domain"}})],1),e("el-form-item",{attrs:{label:"上级返利(%)",prop:"rebate"}},[e("el-input",{attrs:{placeholder:"上级返利"},model:{value:t.addForm.rebate,callback:function(e){t.$set(t.addForm,"rebate",e)},expression:"addForm.rebate"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveEdit}},[t._v(t._s(t.$t("message.45")))]),e("el-button",{attrs:{type:"info",plain:"",size:"small"},on:{click:t.canceladd}},[t._v(t._s(t.$t("message.44")))])],1)],1)],1)},[],!1,null,"11214a40",null).exports},52200:function(t,e){e.A={data:function(){return{layoutType:!0,labelSize:4}},computed:{dialogWidth:function(){return 1==this.layoutType?13*this.labelSize+10+12+360+80+"px":2*(13*this.labelSize+12+10+360)+80+64+"px"},labelWidth:function(){return 13*this.labelSize+30+12+"px"}}}}}]);