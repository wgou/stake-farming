"use strict";(window.webpackChunketh_farming_vue=window.webpackChunketh_farming_vue||[]).push([[655],{44655:function(t,e,a){a.r(e),a.d(e,{default:function(){return i}});var n={data:function(){return{dataForm:{key:""},dataList:[],pageIndex:1,size:20,totalPage:0,dataListLoading:!1,selectionDataList:[],showSearch:!this.isMobile}},created:function(){this.getDataList()},methods:{getDataList:function(){var t=this;this.dataListLoading=!0,this.$http({url:this.$http.adornUrl("/sys/log/list"),method:"get",params:this.$http.adornParams({page:this.pageIndex,limit:this.size,key:this.dataForm.key})}).then(function(e){var a=e.data;a&&0===a.code?(t.dataList=a.page.list,t.totalPage=a.page.totalCount):(t.dataList=[],t.totalPage=0),t.dataListLoading=!1})},sizeChangeHandle:function(t){this.size=t,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(t){this.pageIndex=t,this.getDataList()}}},i=(0,a(14486).A)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("appLayout",{attrs:{showtop:t.showSearch},scopedSlots:t._u([{key:"top",fn:function(){return[e("cardSearch",[e("div",{attrs:{slot:"left"},slot:"left"},[e("el-form",{attrs:{inline:!0,model:t.dataForm,size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getDataList()}}},[e("el-form-item",{attrs:{label:"用户名／用户操作"}},[e("el-input",{attrs:{placeholder:"用户名／用户操作",clearable:""},model:{value:t.dataForm.key,callback:function(e){t.$set(t.dataForm,"key",e)},expression:"dataForm.key"}})],1)],1)],1),e("div",{attrs:{slot:"right"},slot:"right"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:function(e){return t.getDataList()}}},[t._v("查询")])],1)])]},proxy:!0},{key:"dmain",fn:function(a){return[e("div",[e("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.getDataList}})],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:t.dataList,border:"",height:a.maxheight}},[e("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),e("el-table-column",{attrs:{prop:"username","header-align":"center",align:"center",label:"用户名"}}),e("el-table-column",{attrs:{prop:"operation","header-align":"center",align:"center",label:"用户操作"}}),e("el-table-column",{attrs:{prop:"method","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"请求方法"}}),e("el-table-column",{attrs:{prop:"params","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"请求参数"}}),e("el-table-column",{attrs:{prop:"time","header-align":"center",align:"center",label:"执行时长(毫秒)"}}),e("el-table-column",{attrs:{prop:"ip","header-align":"center",align:"center",width:"150",label:"IP地址"}}),e("el-table-column",{attrs:{prop:"createDate","header-align":"center",align:"center",width:"180",label:"创建时间"}})],1),e("div",{staticClass:"page"},[e("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[20,30,40,50,100],"page-size":t.size,total:t.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.sizeChangeHandle,"current-change":t.currentChangeHandle}})],1)]}}])})],1)},[],!1,null,null,null).exports}}]);