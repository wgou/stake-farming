"use strict";(window.webpackChunketh_farming_vue=window.webpackChunketh_farming_vue||[]).push([[254],{39254:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var o=a(54705),r=(a(17427),a(52200)),s=a(95353);function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,o)}return a}var l={name:"commodityOrder",mixins:[r.A],data:function(){return{isEdit:!1,labelSize:3,tableData:[{}],showSearch:!this.isMobile,total:0,queryParams:{current:1,size:100,poolsId:""},loading:!1,showEdit:!1,addForm:{poolId:"",name:"",code:""},rules:{name:[{required:!0,message:"Name is required",trigger:"blur"}],code:[{required:!0,message:"Code is required",trigger:"blur"},{pattern:/^\d{4}$/,message:"Must be 4 digits",trigger:"blur"}]},poolsId:0}},created:function(){this.getList()},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach(function(e){(0,o.A)(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}({},(0,s.L8)(["pools"])),methods:(0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)((0,o.A)({search:function(){this.getList()},getList:function(){var t=this;this.loading=!0,this.$http({url:this.$http.adornUrl("/admin/invite/list"),method:"post",data:this.$http.adornData(this.queryParams)}).then(function(e){var a=e.data;t.loading=!1,a.success?(t.tableData=a.data.records,t.total=a.data.total):t.$message.error(a.msg)}),this.loading=!1},createStaff:function(){this.isEdit=!1,this.showEdit=!0},handleEdit:function(t){this.isEdit=!0,this.addForm.poolId=t.id,this.addForm.code=t.code,this.addForm.name=t.name,this.showEdit=!0}},"search",function(){this.getList()}),"saveEdit",function(){var t=this;this.isEdit?this.isEdit&&(this.$http({url:this.$http.adornUrl("/admin/invite/update"),method:"post",data:this.$http.adornData({id:this.addForm.poolId,code:this.addForm.code,name:this.addForm.name})}).then(function(e){var a=e.data;a.success?(t.$message.success(a.msg),t.getList(),t.canceladd()):t.$message.error(a.msg)}),this.addForm=this.$options.data().addForm,this.showEdit=!1,this.openEdit=!1,this.isEdit=!1):(this.$http({url:this.$http.adornUrl("/admin/invite/add"),method:"post",data:this.$http.adornData({code:this.addForm.code,name:this.addForm.name})}).then(function(e){var a=e.data;a.success?(t.$message.success(a.msg),t.getList(),t.canceladd()):t.$message.error(a.msg)}),this.addForm=this.$options.data().addForm,this.openEdit=!1)}),"canceladd",function(){this.showEdit=!1,this.addForm={poolId:"",name:"",code:""}}),"handleDel",function(t){var e=this;this.$http({url:this.$http.adornUrl("/admin/invite/del"),method:"post",data:this.$http.adornData({id:t.id})}).then(function(t){var a=t.data;a.success?(e.$message.success(a.msg),e.getList()):e.$message.error(a.msg)})}),"restSearchData",function(){this.queryParams=this.$$options.data().queryParams,this.getList()}),"handleSizeChange",function(t){this.queryParams.size=t,this.getList()}),"handleCurrentChange",function(t){this.queryParams.current=t,this.getList()})},n=l,d=(0,a(14486).A)(n,function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("appLayout",{attrs:{showtop:t.showSearch},scopedSlots:t._u([{key:"top",fn:function(){return[e("cardSearch",[e("div",{attrs:{slot:"left"},slot:"left"},[e("el-form",{attrs:{model:t.queryParams,size:"small",inline:!0}},[e("el-form-item",{attrs:{label:t.$t("message.15")}},[e("el-select",{attrs:{clearable:"",placeholder:t.$t("message.15")},model:{value:t.queryParams.poolsId,callback:function(e){t.$set(t.queryParams,"poolsId",e)},expression:"queryParams.poolsId"}},t._l(t.pools,function(t){return e("el-option",{key:t.id,attrs:{label:t.label,value:t.value}})}),1)],1)],1)],1),e("div",{attrs:{slot:"right"},slot:"right"},[e("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.search}},[t._v("搜索")]),e("el-button",{attrs:{type:"primary"},on:{click:t.createStaff}},[t._v(t._s(t.$t("message.562")))])],1)])]},proxy:!0},{key:"dmain",fn:function(a){return[e("div",[e("right-toolbar",{attrs:{showSearch:t.showSearch},on:{"update:showSearch":function(e){t.showSearch=e},"update:show-search":function(e){t.showSearch=e},queryTable:t.search}})],1),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100 %"},attrs:{data:t.tableData,height:a.maxheight}},[e("el-table-column",{attrs:{label:"#",type:"index",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"poolId",label:"poolId",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"name",label:t.$t("message.41"),formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"poolName",label:t.$t("message.15"),formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"inviteUrl",label:t.$t("message.561"),formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"code",label:"Code",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"name",label:"招聘员",formatter:t.formatterColumn,"show-overflow-tooltip":""}}),e("el-table-column",{attrs:{label:t.$t("message.24"),formatter:t.formatterColumn,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v(t._s(t.$t("message.25")))])]}}],null,!0)})],1),e("div",{staticClass:"page"},[e("el-pagination",{attrs:{"current-page":t.queryParams.current,"page-sizes":[100,20,30,40,50,200],"page-size":t.queryParams.size,layout:"total, sizes, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]}}])}),e("el-dialog",{attrs:{title:t.isEdit?"Edit Recruiter":"Add Recruiter",visible:t.showEdit,"append-to-body":"","close-on-click-modal":!1,width:t.dialogWidth},on:{"update:visible":function(e){t.showEdit=e},close:t.canceladd}},[e("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":t.labelWidth,rules:t.rules,inline:"",size:"small"}},[e("el-form-item",{attrs:{label:t.$t("message.41"),prop:"name"}},[e("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),e("el-form-item",{attrs:{label:"Code",prop:"code"}},[e("el-input",{model:{value:t.addForm.code,callback:function(e){t.$set(t.addForm,"code",e)},expression:"addForm.code"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.saveEdit}},[t._v(t._s(t.$t("message.45")))]),e("el-button",{attrs:{type:"info",plain:"",size:"small"},on:{click:t.canceladd}},[t._v(t._s(t.$t("message.44")))])],1)],1)],1)},[],!1,null,"79c2d724",null).exports},52200:function(t,e){e.A={data:function(){return{layoutType:!0,labelSize:4}},computed:{dialogWidth:function(){return 1==this.layoutType?13*this.labelSize+10+12+360+80+"px":2*(13*this.labelSize+12+10+360)+80+64+"px"},labelWidth:function(){return 13*this.labelSize+30+12+"px"}}}}}]);